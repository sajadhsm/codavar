{% extends 'main/base.html' %}

{% block content %}
<div class="jumbotron">
  <div class="container">
    <h1 class="display-3">Codavar<small class="text-muted h5">Alpha</small></h1>
    <p class="lead">Codavar is an automated code judgment system which is currently able to test front-end codes!</p>
  </div>
</div>

<div class="container">
  <h2 class="display-6 mb-4">Active Contests</h2>
  {% for contest in contests %}
  <div class="card mb-3 shadow-sm">
    <div class="card-body">
      <div class="d-flex justify-content-between align-items-center">
        <span class="font-weight-bold">{{ contest.name }}</span>

        {% if contest in user.contests.all %}
          {% if contest.is_in_progress %}
          <a href="{% url 'contest_index' contest.pk %}" class="btn btn-primary" role="button">Enter</a>
          {% else %}
          <a href="{% url 'contest_index' contest.pk %}" class="btn btn-primary disabled" role="button" aria-disabled="true">Enter</a>
          {% endif %}
        {% else %}
        <a href="{% url 'contest_registration' contest.pk %}" class="btn btn-success" role="button">Register</a>
        {% endif %}
      </div>
    </div>
  </div>
  {% endfor %}
</div>
{% endblock %}